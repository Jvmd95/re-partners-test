{
  "orders": [
    {"name": "event_type", "type": "STRING", "mode": "REQUIRED"},
    {"name": "order_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "customer_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "order_date", "type": "TIMESTAMP", "mode": "REQUIRED"},
    {"name": "status", "type": "STRING", "mode": "REQUIRED"},
    {"name": "total_amount", "type": "FLOAT64", "mode": "REQUIRED"},
    {
      "name": "items", "type": "RECORD", "mode": "REPEATED",
      "fields": [
        {"name": "product_id", "type": "STRING", "mode": "REQUIRED"},
        {"name": "product_name", "type": "STRING", "mode": "REQUIRED"},
        {"name": "quantity", "type": "INT64", "mode": "REQUIRED"},
        {"name": "price", "type": "FLOAT64", "mode": "REQUIRED"}
      ]
    },
    {
      "name": "shipping_address", "type": "RECORD", "mode": "REQUIRED",
      "fields": [
        {"name": "street", "type": "STRING", "mode": "REQUIRED"},
        {"name": "city", "type": "STRING", "mode": "REQUIRED"},
        {"name": "country", "type": "STRING", "mode": "REQUIRED"}
      ]
    },
    {"name": "ingestion_timestamp", "type": "TIMESTAMP", "mode": "NULLABLE"}
  ],

  "inventory_logs": [
    {"name": "event_type", "type": "STRING", "mode": "REQUIRED"},
    {"name": "inventory_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "product_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "warehouse_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "quantity_change", "type": "INT64", "mode": "REQUIRED"},
    {"name": "reason", "type": "STRING", "mode": "REQUIRED"},
    {"name": "timestamp", "type": "TIMESTAMP", "mode": "REQUIRED"},
    {"name": "ingestion_timestamp", "type": "TIMESTAMP", "mode": "NULLABLE"}
  ],

  "user_activity": [
    {"name": "event_type", "type": "STRING", "mode": "REQUIRED"},
    {"name": "user_id", "type": "STRING", "mode": "REQUIRED"},
    {"name": "activity_type", "type": "STRING", "mode": "REQUIRED"},
    {"name": "ip_address", "type": "STRING", "mode": "NULLABLE"},
    {"name": "user_agent", "type": "STRING", "mode": "NULLABLE"},
    {"name": "timestamp", "type": "TIMESTAMP", "mode": "REQUIRED"},
    {
      "name": "metadata", "type": "RECORD", "mode": "NULLABLE",
      "fields": [
        {"name": "session_id", "type": "STRING", "mode": "NULLABLE"},
        {"name": "platform", "type": "STRING", "mode": "NULLABLE"}
      ]
    },
    {"name": "ingestion_timestamp", "type": "TIMESTAMP", "mode": "NULLABLE"}
  ]
}

